lixun-robot 是一款知识库驱动的聊天机器人，核心定位是 “基于上传文档的精准问答”。用户只需将需要查询的文档放入指定目录，机器人会自动完成文本提取、智能分段和向量索引构建，无需手动干预。所有文档处理过程均在本地完成，不涉及云端数据传输，确保企业或个人敏感信息的安全性，适用于需要严格数据保密的场景（如内部文档查询、隐私数据咨询等）。
机器人支持四种主流文档格式的上传与解析，分别是 PDF、Word（.docx 后缀）、Markdown（.md 后缀）和 TXT 纯文本格式。不同格式的文档各有适配场景：TXT 格式文档的处理速度最快，适合存储纯文字的结构化信息（如产品参数、规则说明）；PDF 和 Word 格式则支持保留原始文档的段落结构、标题层级和列表格式，便于复杂内容（如技术手册、报告文档）的检索与引用；Markdown 格式则兼顾了结构化与轻量化，支持标题、代码块、链接等语法保留，适合技术文档或笔记类内容的快速处理。
除了基础的文档处理，机器人还具备向量检索优化功能。当用户提问时，系统会通过 FAISS 向量库快速匹配最相关的 3 个文档片段，匹配过程基于中文语义相似度计算，确保回答的精准度。检索过程会自动过滤非中文无效字符（如特殊符号、乱码、无意义空格），仅基于有效中文内容进行匹配，同时支持关键词补全和同义词联想，即使用户提问存在表述差异，也能精准定位相关文档片段。
在文本分段策略上，机器人采用自适应粒度分段方案，默认按 250 字左右拆分文本，同时保留 30 字的段落重叠部分。这种设计既能避免单段文本过长导致的检索精度下降，又能防止段落拆分过细造成的语义断裂，尤其适合处理长文档时的上下文连贯性保留。分段后会自动为每个片段添加元数据标签，包含来源文件名、段落索引和总片段数，方便回答时显式引用原文位置。
多轮对话功能是机器人的核心优势之一，系统会自动保留历史对话上下文，支持连续提问和补充提问。例如用户先询问 “支持哪些文档格式”，后续可直接追问 “哪种格式处理速度最快”，机器人会基于前序对话理解用户意图，无需重复表述背景信息。同时支持输入 “history” 指令查看完整对话记录，便于回顾关键信息或调整提问方向。
为了满足可观测性要求，机器人集成了 LangSmith 工具，会自动上报每次 Agent 执行过程的输入输出、响应时间、相似度分数等关键指标。开发人员可通过 LangSmith 平台查看完整的调用链流程，包括文档检索、LLM 调用、回答生成等每个步骤的详细日志，便于问题排查和性能优化。所有日志同时会本地存储，按日期分割保留 30 天，确保追溯便利性。